{"version":3,"sources":["webpack:///webpack/bootstrap c387577783749fc71922","webpack:///./src/js/main.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/styl/site.styl","webpack:///./src/js/Scroll.js","webpack:///./node_modules/smoothscroll-polyfill/dist/smoothscroll.js","webpack:///./src/js/Particle.js"],"names":["Site","mobileThreshold","$","window","resize","onResize","bind","document","ready","onReady","init","each","string","html","replace","factory","lazySizes","module","exports","l","getElementsByClassName","lazysizes","lazySizesConfig","docElem","documentElement","Date","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","addEventListener","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","forEach","Array","prototype","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","addRemoveLoadEvents","dom","fn","add","action","evt","triggerEvent","elem","name","detail","noBubbles","noCancelable","event","createEvent","instance","initCustomEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","reevaluate","elements","src","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","minSize","_lazysizesWidth","parentNode","rAF","running","waiting","firstFns","secondFns","fns","run","runFns","length","shift","rafBatch","queue","apply","arguments","push","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","gDelay","rICTimeout","ricTimeout","now","idleCallback","timeout","isPriority","delay","debounce","func","timestamp","wait","later","last","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","customMedia","expFactor","hFac","loadMode","loadHidden","lazysizesConfig","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","defaultExpand","preloadExpand","regImg","regIframe","supportScroll","navigator","userAgent","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","e","target","isNestedVisible","elemExpand","outerRect","visible","body","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","i","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","lazyloadElems","expand","clientHeight","clientWidth","_lazyRace","unveilElement","innerWidth","innerHeight","preloadAfterLoad","throttledCheckElements","switchLoadingClass","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","contentWindow","location","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","call","getElementsByTagName","complete","naturalWidth","autoSizer","updateElem","onload","afterScroll","_","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","autosizesElems","sizeElement","sources","len","dataAttr","getSizeElement","updateElementsSizes","debouncedUpdateElementsSizes","cfg","uP","aC","rC","hC","fire","gW","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","Scroll","scrollOffset","onHashChange","hash","includes","substring","$target","scroll","offset","behavior","w","d","__forceSmoothScrollPolyfill__","Element","HTMLElement","SCROLL_TIME","original","scrollTo","scrollBy","elementScroll","scrollElement","scrollIntoView","performance","isMicrosoftBrowser","userAgentPatterns","join","ROUNDING_TOLERANCE","x","y","scrollLeft","scrollTop","ease","k","Math","cos","PI","shouldBailOut","firstArg","undefined","TypeError","hasScrollableSpace","axis","scrollHeight","scrollWidth","canOverflow","overflowValue","isScrollable","isScrollableY","isScrollableX","findScrollableParent","isBody","step","context","time","value","currentX","currentY","elapsed","startTime","startX","startY","method","scrollable","smoothScroll","scrollX","pageXOffset","scrollY","pageYOffset","SyntaxError","scrollableParent","parentRects","clientRects","position","Particle","webkitRequestAnimationFrame","mozRequestAnimationFrame","mouse","px","py","down","canvas_width","round","canvas_height","resolution","pen_size","num_cols","num_rows","speck_count","vec_cells","particles","console","log","canvas","getElementById","ctx","getContext","devicePixelRatio","height","scale","particle","random","col","row","cell_data","cell","row_up","col_left","col_right","up","up_left","up_right","down_right","down_left","mouse_down_handler","mouse_up_handler","touch_end_handler","mouse_move_handler","touch_move_handler","draw","p","parseInt","ax","ay","xv","yv","dx","dy","dist","sqrt","limit","lineWidth","lineCap","lineJoin","beginPath","moveTo","lineTo","stroke","mouse_xv","mouse_yv","cell_datas","j","change_cell_velocity","update_pressure","clearRect","strokeStyle","update_particle","update_velocity","mvelX","mvelY","power","pressure_x","pressure_y","pressure","res","r","preventDefault","touches","clientX","clientY","pageX","pageY"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c387577783749fc71922","/* jshint esversion: 6, browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document */\n\n// Import dependencies\nimport lazySizes from 'lazysizes';\n\n// Import style\nimport '../styl/site.styl';\n\n// Import components\nimport Scroll from './Scroll';\nimport Particle from './Particle';\n\nclass Site {\n  constructor() {\n    this.mobileThreshold = 601;\n\n    $(window).resize(this.onResize.bind(this));\n\n    $(document).ready(this.onReady.bind(this));\n\n  }\n\n  onResize() {\n\n  }\n\n  onReady() {\n    lazySizes.init();\n\n  }\n\n  fixWidows() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  }\n}\n\nnew Site();\nnew Particle();\nnew Scroll();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('CustomEvent');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initCustomEvent(name, !noBubbles, !noCancelable, detail);\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = 125;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && lazySizesConfig.ricTimeout ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || (delay < 9 && requestIdleCallback)){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 300,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar defaultExpand, preloadExpand, hFac;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/glebot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || getCSS(elem, 'visibility') != 'hidden';\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal;\n\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(preloadExpand == null){\n\t\t\t\t\tif(!('expand' in lazySizesConfig)){\n\t\t\t\t\t\tlazySizesConfig.expand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\t}\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lazysizes/lazysizes.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styl/site.styl\n// module id = 3\n// module chunks = 0","import smoothscroll from 'smoothscroll-polyfill';\n\n// kick off the polyfill just in case\nsmoothscroll.polyfill();\n\nclass Scroll {\n  constructor() {\n    // value in pixels elements scrolled to will be from top of the window\n    this.scrollOffset = 60;\n\n    $(document).ready(this.onReady.bind(this));\n\n  }\n\n  onReady() {\n    // fire hash change on load\n    this.onHashChange();\n    // and watch for hash changes\n    window.addEventListener('hashchange', this.onHashChange.bind(this), false);\n  }\n\n  onHashChange() {\n    let hash = window.location.hash;\n\n    // check if is hashbang link\n    if (hash.includes('#!/')) {\n      hash = hash.substring(3);\n\n      const $target = $('#' + hash);\n\n      window.scroll({\n        top: $target.offset().top + this.scrollOffset,\n        behavior: 'smooth'\n      });\n\n    }\n  }\n}\n\nexport default Scroll;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Scroll.js","/* smoothscroll v0.4.0 - 2018 - Dustan Kasten, Jeremias Menichelli - MIT License */\n(function () {\n  'use strict';\n\n  // polyfill\n  function polyfill() {\n    // aliases\n    var w = window;\n    var d = document;\n\n    // return if scroll behavior is supported and polyfill is not forced\n    if (\n      'scrollBehavior' in d.documentElement.style &&\n      w.__forceSmoothScrollPolyfill__ !== true\n    ) {\n      return;\n    }\n\n    // globals\n    var Element = w.HTMLElement || w.Element;\n    var SCROLL_TIME = 468;\n\n    // object gathering original scroll methods\n    var original = {\n      scroll: w.scroll || w.scrollTo,\n      scrollBy: w.scrollBy,\n      elementScroll: Element.prototype.scroll || scrollElement,\n      scrollIntoView: Element.prototype.scrollIntoView\n    };\n\n    // define timing method\n    var now =\n      w.performance && w.performance.now\n        ? w.performance.now.bind(w.performance)\n        : Date.now;\n\n    /**\n     * indicates if a the current browser is made by Microsoft\n     * @method isMicrosoftBrowser\n     * @param {String} userAgent\n     * @returns {Boolean}\n     */\n    function isMicrosoftBrowser(userAgent) {\n      var userAgentPatterns = ['MSIE ', 'Trident/', 'Edge/'];\n\n      return new RegExp(userAgentPatterns.join('|')).test(userAgent);\n    }\n\n    /*\n     * IE has rounding bug rounding down clientHeight and clientWidth and\n     * rounding up scrollHeight and scrollWidth causing false positives\n     * on hasScrollableSpace\n     */\n    var ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\n\n    /**\n     * changes scroll position inside an element\n     * @method scrollElement\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function scrollElement(x, y) {\n      this.scrollLeft = x;\n      this.scrollTop = y;\n    }\n\n    /**\n     * returns result of applying ease math function to a number\n     * @method ease\n     * @param {Number} k\n     * @returns {Number}\n     */\n    function ease(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n\n    /**\n     * indicates if a smooth behavior should be applied\n     * @method shouldBailOut\n     * @param {Number|Object} firstArg\n     * @returns {Boolean}\n     */\n    function shouldBailOut(firstArg) {\n      if (\n        firstArg === null ||\n        typeof firstArg !== 'object' ||\n        firstArg.behavior === undefined ||\n        firstArg.behavior === 'auto' ||\n        firstArg.behavior === 'instant'\n      ) {\n        // first argument is not an object/null\n        // or behavior is auto, instant or undefined\n        return true;\n      }\n\n      if (typeof firstArg === 'object' && firstArg.behavior === 'smooth') {\n        // first argument is an object and behavior is smooth\n        return false;\n      }\n\n      // throw error when behavior is not supported\n      throw new TypeError(\n        'behavior member of ScrollOptions ' +\n          firstArg.behavior +\n          ' is not a valid value for enumeration ScrollBehavior.'\n      );\n    }\n\n    /**\n     * indicates if an element has scrollable space in the provided axis\n     * @method hasScrollableSpace\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function hasScrollableSpace(el, axis) {\n      if (axis === 'Y') {\n        return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\n      }\n\n      if (axis === 'X') {\n        return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\n      }\n    }\n\n    /**\n     * indicates if an element has a scrollable overflow property in the axis\n     * @method canOverflow\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function canOverflow(el, axis) {\n      var overflowValue = w.getComputedStyle(el, null)['overflow' + axis];\n\n      return overflowValue === 'auto' || overflowValue === 'scroll';\n    }\n\n    /**\n     * indicates if an element can be scrolled in either axis\n     * @method isScrollable\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function isScrollable(el) {\n      var isScrollableY = hasScrollableSpace(el, 'Y') && canOverflow(el, 'Y');\n      var isScrollableX = hasScrollableSpace(el, 'X') && canOverflow(el, 'X');\n\n      return isScrollableY || isScrollableX;\n    }\n\n    /**\n     * finds scrollable parent of an element\n     * @method findScrollableParent\n     * @param {Node} el\n     * @returns {Node} el\n     */\n    function findScrollableParent(el) {\n      var isBody;\n\n      do {\n        el = el.parentNode;\n\n        isBody = el === d.body;\n      } while (isBody === false && isScrollable(el) === false);\n\n      isBody = null;\n\n      return el;\n    }\n\n    /**\n     * self invoked function that, given a context, steps through scrolling\n     * @method step\n     * @param {Object} context\n     * @returns {undefined}\n     */\n    function step(context) {\n      var time = now();\n      var value;\n      var currentX;\n      var currentY;\n      var elapsed = (time - context.startTime) / SCROLL_TIME;\n\n      // avoid elapsed times higher than one\n      elapsed = elapsed > 1 ? 1 : elapsed;\n\n      // apply easing to elapsed time\n      value = ease(elapsed);\n\n      currentX = context.startX + (context.x - context.startX) * value;\n      currentY = context.startY + (context.y - context.startY) * value;\n\n      context.method.call(context.scrollable, currentX, currentY);\n\n      // scroll more if we have not reached our destination\n      if (currentX !== context.x || currentY !== context.y) {\n        w.requestAnimationFrame(step.bind(w, context));\n      }\n    }\n\n    /**\n     * scrolls window or element with a smooth behavior\n     * @method smoothScroll\n     * @param {Object|Node} el\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function smoothScroll(el, x, y) {\n      var scrollable;\n      var startX;\n      var startY;\n      var method;\n      var startTime = now();\n\n      // define scroll context\n      if (el === d.body) {\n        scrollable = w;\n        startX = w.scrollX || w.pageXOffset;\n        startY = w.scrollY || w.pageYOffset;\n        method = original.scroll;\n      } else {\n        scrollable = el;\n        startX = el.scrollLeft;\n        startY = el.scrollTop;\n        method = scrollElement;\n      }\n\n      // scroll looping over a frame\n      step({\n        scrollable: scrollable,\n        method: method,\n        startTime: startTime,\n        startX: startX,\n        startY: startY,\n        x: x,\n        y: y\n      });\n    }\n\n    // ORIGINAL METHODS OVERRIDES\n    // w.scroll and w.scrollTo\n    w.scroll = w.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scroll.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object'\n              ? arguments[0]\n              : w.scrollX || w.pageXOffset,\n          // use top prop, second argument if present or fallback to scrollY\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined\n              ? arguments[1]\n              : w.scrollY || w.pageYOffset\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        arguments[0].left !== undefined\n          ? ~~arguments[0].left\n          : w.scrollX || w.pageXOffset,\n        arguments[0].top !== undefined\n          ? ~~arguments[0].top\n          : w.scrollY || w.pageYOffset\n      );\n    };\n\n    // w.scrollBy\n    w.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scrollBy.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object' ? arguments[0] : 0,\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined ? arguments[1] : 0\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        ~~arguments[0].left + (w.scrollX || w.pageXOffset),\n        ~~arguments[0].top + (w.scrollY || w.pageYOffset)\n      );\n    };\n\n    // Element.prototype.scroll and Element.prototype.scrollTo\n    Element.prototype.scroll = Element.prototype.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        // if one number is passed, throw error to match Firefox implementation\n        if (typeof arguments[0] === 'number' && arguments[1] === undefined) {\n          throw new SyntaxError('Value could not be converted');\n        }\n\n        original.elementScroll.call(\n          this,\n          // use left prop, first number argument or fallback to scrollLeft\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left\n            : typeof arguments[0] !== 'object' ? ~~arguments[0] : this.scrollLeft,\n          // use top prop, second argument or fallback to scrollTop\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top\n            : arguments[1] !== undefined ? ~~arguments[1] : this.scrollTop\n        );\n\n        return;\n      }\n\n      var left = arguments[0].left;\n      var top = arguments[0].top;\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        this,\n        this,\n        typeof left === 'undefined' ? this.scrollLeft : ~~left,\n        typeof top === 'undefined' ? this.scrollTop : ~~top\n      );\n    };\n\n    // Element.prototype.scrollBy\n    Element.prototype.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.elementScroll.call(\n          this,\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left + this.scrollLeft\n            : ~~arguments[0] + this.scrollLeft,\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top + this.scrollTop\n            : ~~arguments[1] + this.scrollTop\n        );\n\n        return;\n      }\n\n      this.scroll({\n        left: ~~arguments[0].left + this.scrollLeft,\n        top: ~~arguments[0].top + this.scrollTop,\n        behavior: arguments[0].behavior\n      });\n    };\n\n    // Element.prototype.scrollIntoView\n    Element.prototype.scrollIntoView = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scrollIntoView.call(\n          this,\n          arguments[0] === undefined ? true : arguments[0]\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      var scrollableParent = findScrollableParent(this);\n      var parentRects = scrollableParent.getBoundingClientRect();\n      var clientRects = this.getBoundingClientRect();\n\n      if (scrollableParent !== d.body) {\n        // reveal element inside parent\n        smoothScroll.call(\n          this,\n          scrollableParent,\n          scrollableParent.scrollLeft + clientRects.left - parentRects.left,\n          scrollableParent.scrollTop + clientRects.top - parentRects.top\n        );\n\n        // reveal parent in viewport unless is fixed\n        if (w.getComputedStyle(scrollableParent).position !== 'fixed') {\n          w.scrollBy({\n            left: parentRects.left,\n            top: parentRects.top,\n            behavior: 'smooth'\n          });\n        }\n      } else {\n        // reveal element in viewport\n        w.scrollBy({\n          left: clientRects.left,\n          top: clientRects.top,\n          behavior: 'smooth'\n        });\n      }\n    };\n  }\n\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    // commonjs\n    module.exports = { polyfill: polyfill };\n  } else {\n    // global\n    polyfill();\n  }\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/smoothscroll-polyfill/dist/smoothscroll.js","class Particle {\n  constructor() {\n\n    window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\n    this.mouse = {\n      x: 0,\n      y: 0,\n      px: 0,\n      py: 0,\n      down: true // TODO: find a solution for mousedown: true on desktop, mousedown: false on mobile\n    };\n\n    this.canvas_width = Math.round(window.innerWidth / 10) * 10; //Rounding to nearest 10. Needs to be a multiple of the resolution value below.\n    this.canvas_height = Math.round(window.innerHeight / 10) * 10; //This too.\n\n    this.resolution = 20; //Width and height of each cell in the grid.\n\n    this.pen_size = 40; //Radius around the mouse cursor coordinates to reach when stirring\n\n    this.num_cols = this.canvas_width / this.resolution; //This value is the number of columns in the grid.\n    this.num_rows = this.canvas_height / this.resolution; //This is number of rows.\n    this.speck_count = this.canvas_width * 1; //This determines how many particles will be made.\n\n    this.vec_cells = []; //The array that will contain the grid cells\n    this.particles = []; //The array that will contain the particles\n\n    $(document).ready(this.onReady.bind(this));\n\n  }\n\n  onReady() {\n    console.log(document)\n    this.init();\n  }\n\n  init() {\n    //These lines get the canvas DOM element and canvas context, respectively.\n    this.canvas = document.getElementById(\"fluid\");\n    this.ctx = this.canvas.getContext(\"2d\");\n\n    //These two set the width and height of the canvas to the defined values.\n    if (window.devicePixelRatio > 1) {\n      // Retina screen\n      this.canvas.width = this.canvas_width * 2;\n      this.canvas.height = this.canvas_height * 2;\n\n      this.canvas.style.width = this.canvas_width + 'px';\n      this.canvas.style.height = this.canvas_height + 'px';\n\n      this.canvas.getContext('2d').scale(2,2);\n    } else {\n      // Not Retina screen\n      this.canvas.width = this.canvas_width;\n      this.canvas.height = this.canvas_height;\n    }\n\n\n    /*\n    This loop begins at zero and counts up to the defined number of particles,\n    less one, because array elements are numbered beginning at zero.\n    */\n    for (var i = 0; i < this.speck_count; i++) {\n      /*\n      This calls the function particle() with random X and Y values. It then\n      takes the returned object and pushes it into the particles array at the\n      end.\n      */\n      this.particles.push(\n        new this.particle(Math.random() * this.canvas_width, Math.random() * this.canvas_height)\n      );\n    }\n\n    //This loops through the count of columns.\n    for (var col = 0; col < this.num_cols; col++) {\n\n      //This defines the array element as another array.\n      this.vec_cells[col] = [];\n\n      //This loops through the count of rows.\n      for (var row = 0; row < this.num_rows; row++) {\n\n        /*\n        This line calls the cell() function, which creates an individual grid cell\n        and returns it as an object. The X and Y values are multiplied by the\n        resolution so that when the loops are referring to \"column 2, row 2\", the\n        width and height of \"column 1, row 1\" are counted in so that the top-left\n        corner of the new grid cell is at the bottom right of the other cell.\n        */\n        var cell_data = new this.cell(col * this.resolution, row * this.resolution, this.resolution)\n\n        //This pushes the cell object into the grid array.\n        this.vec_cells[col][row] = cell_data;\n\n        /*\n        These two lines set the object's column and row values so the object knows\n        where in the grid it is positioned.\n        */\n        this.vec_cells[col][row].col = col;\n        this.vec_cells[col][row].row = row;\n\n      }\n    }\n\n\n    /*\n    These loops move through the rows and columns of the grid array again and set variables\n    in each cell object that will hold the directional references to neighboring cells.\n    For example, let's say the loop is currently on this cell:\n\n    OOOOO\n    OOOXO\n    OOOOO\n\n    These variables will hold the references to neighboring cells so you only need to\n    use \"up\" to refer to the cell above the one you're currently on.\n    */\n    for (var col = 0; col < this.num_cols; col++) {\n\n      for (var row = 0; row < this.num_rows; row++) {\n\n        /*\n        This variable holds the reference to the current cell in the grid. When you\n        refer to an element in an array, it doesn't copy that value into the new\n        variable; the variable stores a \"link\" or reference to that spot in the array.\n        If the value in the array is changed, the value of this variable would change\n        also, and vice-versa.\n        */\n        var cell_data = this.vec_cells[col][row];\n\n        /*\n        Each of these lines has a ternary expression. A ternary expression is similar\n        to an if/then clause and is represented as an expression (e.g. row - 1 >= 0)\n        which is evaluated to either true or false. If it's true, the first value after\n        the question mark is used, and if it's false, the second value is used instead.\n\n        If you're on the first row and you move to the row above, this wraps the row\n        around to the last row. This is done so that momentum that is pushed to the edge\n        of the canvas is \"wrapped\" to the opposite side.\n        */\n        var row_up = (row - 1 >= 0) ? row - 1 : this.num_rows - 1;\n        var col_left = (col - 1 >= 0) ? col - 1 : this.num_cols - 1;\n        var col_right = (col + 1 < this.num_cols) ? col + 1 : 0;\n\n        //Get the reference to the cell on the row above.\n        var up = this.vec_cells[col][row_up];\n        var left = this.vec_cells[col_left][row];\n        var up_left = this.vec_cells[col_left][row_up];\n        var up_right = this.vec_cells[col_right][row_up];\n\n        /*\n        Set the current cell's \"up\", \"left\", \"up_left\" and \"up_right\" attributes to the\n        respective neighboring cells.\n        */\n        cell_data.up = up;\n        cell_data.left = left;\n        cell_data.up_left = up_left;\n        cell_data.up_right = up_right;\n\n        /*\n        Set the neighboring cell's opposite attributes to point to the current cell.\n        */\n        up.down = this.vec_cells[col][row];\n        left.right = this.vec_cells[col][row];\n        up_left.down_right = this.vec_cells[col][row];\n        up_right.down_left = this.vec_cells[col][row];\n\n      }\n    }\n\n\n    /*\n    These lines create triggers that fire when certain events happen. For\n    instance, when you move your mouse, the mouse_move_handler() function\n    will run and will be passed the event object reference into it's \"e\"\n    variable. Something to note, the mousemove event doesn't necessarily\n    fire for *every* mouse coordinate position; the mouse movement is\n    sampled at a certain rate, meaning that it's checked periodically, and\n    if the mouse has moved, the event is fired and the current coordinates\n    are sent. That's why you'll see large jumps from one pair of coordinates\n    to the next if you move your mouse very fast across the screen. That's\n    also how I measure the mouse's velocity.\n    */\n    window.addEventListener(\"mousedown\", this.mouse_down_handler.bind(this));\n    window.addEventListener(\"touchstart\", this.mouse_down_handler);\n\n    window.addEventListener(\"mouseup\", this.mouse_up_handler.bind(this));\n    window.addEventListener(\"touchend\", this.touch_end_handler.bind(this));\n\n    window.addEventListener(\"mousemove\", this.mouse_move_handler.bind(this));\n    window.addEventListener(\"touchmove\", this.touch_move_handler.bind(this));\n\n    console.log('draw');\n    //When the page is finished loading, run the draw() function.\n    this.draw();\n\n  }\n\n  /*\n  This function updates the position of the particles according to the velocity\n  of the cells underneath, and also draws them to the canvas.\n  */\n  update_particle() {\n\n    //Loops through all of the particles in the array\n    for (var i = 0; i < this.particles.length; i++) {\n\n      //Sets this variable to the current particle so we can refer to the particle easier.\n      var p = this.particles[i];\n\n      //If the particle's X and Y coordinates are within the bounds of the canvas...\n      if (p.x >= 0 && p.x < this.canvas_width && p.y >= 0 && p.y < this.canvas_height) {\n\n        /*\n        These lines divide the X and Y values by the size of each cell. This number is\n        then parsed to a whole number to determine which grid cell the particle is above.\n        */\n        var col = parseInt(p.x / this.resolution);\n        var row = parseInt(p.y / this.resolution);\n\n        //Same as above, store reference to cell\n        var cell_data = this.vec_cells[col][row];\n\n        /*\n        These values are percentages. They represent the percentage of the distance across\n        the cell (for each axis) that the particle is positioned. To give an example, if\n        the particle is directly in the center of the cell, these values would both be \"0.5\"\n\n        The modulus operator (%) is used to get the remainder from dividing the particle's\n        coordinates by the resolution value. This number can only be smaller than the\n        resolution, so we divide it by the resolution to get the percentage.\n        */\n        var ax = (p.x % this.resolution) / this.resolution;\n        var ay = (p.y % this.resolution) / this.resolution;\n\n        /*\n        These lines subtract the decimal from 1 to reverse it (e.g. 100% - 75% = 25%), multiply\n        that value by the cell's velocity, and then by 0.05 to greatly reduce the overall change in velocity\n        per frame (this slows down the movement). Then they add that value to the particle's velocity\n        in each axis. This is done so that the change in velocity is incrementally made as the\n        particle reaches the end of it's path across the cell.\n        */\n        p.xv += (1 - ax) * cell_data.xv * 0.05;\n        p.yv += (1 - ay) * cell_data.yv * 0.05;\n\n        /*\n        These next four lines are are pretty much the same, except the neighboring cell's\n        velocities are being used to affect the particle's movement. If you were to comment\n        them out, the particles would begin grouping at the boundary between cells because\n        the neighboring cells wouldn't be able to pull the particle into their boundaries.\n        */\n        p.xv += ax * cell_data.right.xv * 0.05;\n        p.yv += ax * cell_data.right.yv * 0.05;\n\n        p.xv += ay * cell_data.down.xv * 0.05;\n        p.yv += ay * cell_data.down.yv * 0.05;\n\n        //This adds the calculated velocity to the position coordinates of the particle.\n        p.x += p.xv;\n        p.y += p.yv;\n\n        //For each axis, this gets the distance between the old position of the particle and it's new position.\n        var dx = p.px - p.x;\n        var dy = p.py - p.y;\n\n        //Using the Pythagorean theorum (A^2 + B^2 = C^2), this determines the distance the particle travelled.\n        var dist = Math.sqrt(dx * dx + dy * dy);\n\n        //This line generates a random value between 0 and 0.5\n        var limit = Math.random() * 0.5;\n\n        //If the distance the particle has travelled this frame is greater than the random value...\n        if (dist > limit) {\n          this.ctx.lineWidth = 1;\n          this.ctx.lineCap = this.ctx.lineJoin = 'round'\n          this.ctx.beginPath(); //Begin a new path on the canvas\n          this.ctx.moveTo(p.x, p.y); //Move the drawing cursor to the starting point\n          this.ctx.lineTo(p.px, p.py); //Describe a line from the particle's old coordinates to the new ones\n          this.ctx.stroke(); //Draw the path to the canvas\n        }else{\n          //If the particle hasn't moved further than the random limit...\n\n          this.ctx.beginPath();\n          this.ctx.moveTo(p.x, p.y);\n\n          /*\n          Describe a line from the particle's current coordinates to those same coordinates\n          plus the random value. This is what creates the shimmering effect while the particles\n          aren't moving.\n          */\n          this.ctx.lineTo(p.x + limit, p.y + limit);\n\n          this.ctx.stroke();\n        }\n\n        //This updates the previous X and Y coordinates of the particle to the new ones for the next loop.\n        p.px = p.x;\n        p.py = p.y;\n      }\n      else {\n        //If the particle's X and Y coordinates are outside the bounds of the canvas...\n\n        //Place the particle at a random location on the canvas\n        p.x = p.px = Math.random() * this.canvas_width;\n        p.y = p.py = Math.random() * this.canvas_height;\n\n        //Set the particles velocity to zero.\n        p.xv = 0;\n        p.yv = 0;\n      }\n\n      //These lines divide the particle's velocity in half everytime it loops, slowing them over time.\n      p.xv *= 0.5;\n      p.yv *= 0.5;\n    }\n  }\n\n  /*\n  This is the main animation loop. It is run once from the init() function when the page is fully loaded and\n  uses RequestAnimationFrame to run itself again and again.\n  */\n  draw() {\n    /*\n    This calculates the velocity of the mouse by getting the distance between the last coordinates and the new ones. The coordinates will be further apart depending on how fast the mouse is moving.\n    */\n    var mouse_xv = this.mouse.x - this.mouse.px;\n    var mouse_yv = this.mouse.y - this.mouse.py;\n\n    //Loops through all of the columns\n    for (var i = 0; i < this.vec_cells.length; i++) {\n      var cell_datas = this.vec_cells[i];\n\n      //Loops through all of the rows\n      for (var j = 0; j < cell_datas.length; j++) {\n\n        //References the current cell\n        var cell_data = cell_datas[j];\n\n        //If the mouse button is down, updates the cell velocity using the mouse velocity\n        if (this.mouse.down) {\n          this.change_cell_velocity(cell_data, mouse_xv, mouse_yv, this.pen_size);\n        }\n\n        //This updates the pressure values for the cell.\n        this.update_pressure(cell_data);\n      }\n    }\n\n    /*\n    This line clears the canvas. It needs to be cleared every time a new frame is drawn so the particles move. Otherwise, the particles would just look like long curvy lines.\n    */\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    //This sets the color to draw with.\n    this.ctx.strokeStyle = \"#999999\";\n\n    //This calls the function to update the particle positions.\n    this.update_particle();\n\n    /*\n    This calls the function to update the cell velocity for every cell by looping through all of the rows and columns.\n    */\n    for (var i = 0; i < this.vec_cells.length; i++) {\n      var cell_datas = this.vec_cells[i];\n\n      for (var j = 0; j < cell_datas.length; j++) {\n        var cell_data = cell_datas[j];\n\n        this.update_velocity(cell_data);\n\n      }\n    }\n\n    // This replaces the previous mouse coordinates values with the current ones for the next frame.\n    this.mouse.px = this.mouse.x;\n    this.mouse.py = this.mouse.y;\n\n    // This requests the next animation frame which runs the draw() function again.\n    requestAnimationFrame(this.draw.bind(this));\n\n  }\n\n  /*\n  This function changes the cell velocity of an individual cell by first determining whether the cell is\n  close enough to the mouse cursor to be affected, and then if it is, by calculating the effect that mouse velocity\n  has on the cell's velocity.\n  */\n  change_cell_velocity(cell_data, mvelX, mvelY, pen_size) {\n    //This gets the distance between the cell and the mouse cursor.\n    var dx = cell_data.x - this.mouse.x;\n    var dy = cell_data.y - this.mouse.y;\n    var dist = Math.sqrt(dy * dy + dx * dx);\n\n    //If the distance is less than the radius...\n    if (dist < pen_size) {\n\n      //If the distance is very small, set it to the pen_size.\n      if (dist < 4) {\n        dist = pen_size;\n      }\n\n      //Calculate the magnitude of the mouse's effect (closer is stronger)\n      var power = pen_size / dist;\n\n      /*\n      Apply the velocity to the cell by multiplying the power by the mouse velocity and adding it to the cell velocity\n      */\n      cell_data.xv += mvelX * power;\n      cell_data.yv += mvelY * power;\n    }\n  }\n\n  /*\n  This function updates the pressure value for an individual cell using the\n  pressures of neighboring cells.\n  */\n  update_pressure(cell_data) {\n\n    //This calculates the collective pressure on the X axis by summing the surrounding velocities\n    var pressure_x = (\n      cell_data.up_left.xv * 0.5 //Divided in half because it's diagonal\n      + cell_data.left.xv\n      + cell_data.down_left.xv * 0.5 //Same\n      - cell_data.up_right.xv * 0.5 //Same\n      - cell_data.right.xv\n      - cell_data.down_right.xv * 0.5 //Same\n    );\n\n    //This does the same for the Y axis.\n    var pressure_y = (\n      cell_data.up_left.yv * 0.5\n      + cell_data.up.yv\n      + cell_data.up_right.yv * 0.5\n      - cell_data.down_left.yv * 0.5\n      - cell_data.down.yv\n      - cell_data.down_right.yv * 0.5\n    );\n\n    //This sets the cell pressure to one-fourth the sum of both axis pressure.\n    cell_data.pressure = (pressure_x + pressure_y) * 0.25;\n  }\n\n  /*\n  This function updates the velocity value for an individual cell using the\n  velocities of neighboring cells.\n  */\n  update_velocity(cell_data) {\n\n    /*\n    This adds one-fourth of the collective pressure from surrounding cells to the\n    cell's X axis velocity.\n    */\n    cell_data.xv += (\n      cell_data.up_left.pressure * 0.5\n      + cell_data.left.pressure\n      + cell_data.down_left.pressure * 0.5\n      - cell_data.up_right.pressure * 0.5\n      - cell_data.right.pressure\n      - cell_data.down_right.pressure * 0.5\n    ) * 0.25;\n\n    //This does the same for the Y axis.\n    cell_data.yv += (\n      cell_data.up_left.pressure * 0.5\n      + cell_data.up.pressure\n      + cell_data.up_right.pressure * 0.5\n      - cell_data.down_left.pressure * 0.5\n      - cell_data.down.pressure\n      - cell_data.down_right.pressure * 0.5\n    ) * 0.25;\n\n    /*\n    This slowly decreases the cell's velocity over time so that the fluid stops\n    if it's left alone.\n    */\n    cell_data.xv *= 0.99;\n    cell_data.yv *= 0.99;\n  }\n\n  //This function is used to create a cell object.\n  cell(x, y, res) {\n\n    //This stores the position to place the cell on the canvas\n    this.x = x;\n    this.y = y;\n\n    //This is the width and height of the cell\n    this.r = res;\n\n    //These are the attributes that will hold the row and column values\n    this.col = 0;\n    this.row = 0;\n\n    //This stores the cell's velocity\n    this.xv = 0;\n    this.yv = 0;\n\n    //This is the pressure attribute\n    this.pressure = 0;\n  }\n\n\n  //This function is used to create a particle object.\n  particle(x, y) {\n    this.x = this.px = x;\n    this.y = this.py = y;\n    this.xv = this.yv = 0;\n  }\n\n\n  /*\n  This function is called whenever the mouse button is pressed. The event object is passed to\n  this function when it's called.\n  */\n  mouse_down_handler(e) {\n    e.preventDefault(); //Prevents the default action from happening (e.g. navigation)\n    this.mouse.down = true; //Sets the mouse object's \"down\" value to true\n  }\n\n\n  //This function is called whenever the mouse button is released.\n  mouse_up_handler() {\n    //this.mouse.down = false; // TODO\n  }\n\n\n  //This function is called whenever a touch point is removed from the screen.\n  touch_end_handler(e) { // TODO\n    if (!e.touches) this.mouse.down = false; //If there are no more touches on the screen, sets \"down\" to false.\n  }\n\n\n  /*\n  This function is called whenever the mouse coordinates have changed. The coordinates are checked by the\n  browser at intervals.\n  */\n  mouse_move_handler(e) {\n    //Saves the previous coordinates\n    this.mouse.px = this.mouse.x;\n    this.mouse.py = this.mouse.y;\n\n    //Sets the new coordinates\n    //this.mouse.x = e.offsetX || e.layerX; // absolute positioned canvas\n    //this.mouse.y = e.offsetY || e.layerY; // absolute positioned canvas\n    this.mouse.x = e.clientX; // fixed positioned canvas\n    this.mouse.y = e.clientY; // fixed positioned canvas\n  }\n\n\n  /*\n  This function is called whenever one of the coordinates have changed. The coordinates are checked by the\n  browser at intervals.\n  */\n  touch_move_handler(e) { // TODO\n    this.mouse.px = this.mouse.x;\n    this.mouse.py = this.mouse.y;\n\n    //This line gets the coordinates for where the canvas is positioned on the screen.\n    var rect = this.canvas.getBoundingClientRect();\n\n    /*\n    And this sets the mouse coordinates to where the first touch is. Since we're using pageX\n    and pageY, we need to subtract the top and left offset of the canvas so the values are correct.\n    */\n    this.mouse.x = e.touches[0].pageX - rect.left;\n    this.mouse.y = e.touches[0].pageY - rect.top;\n  }\n\n}\n\nexport default Particle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Particle.js"],"sourceRoot":""}